events {}

http {
    include /etc/nginx/mime.types;
    sendfile on;

    server {
        listen 80;
        default_type application/octet-stream;

        root /usr/share/nginx/html;

        location / {
            try_files $uri $uri/ /index.html;
        }

        # SHORT LINKS
        rewrite ^/discord/?$        "https://discord.gg/zYkVtTHD9a" redirect;
        rewrite ^/signup/?$         "https://docs.google.com/forms/d/e/1FAIpQLSdksxJuzYgiNlFyZZEs_DZJww63W0YeGlVGuEceRWR1o3KwbA/viewform" redirect;
        rewrite ^/zsignup/?$        "https://docs.google.com/forms/d/e/1FAIpQLSdksxJuzYgiNlFyZZEs_DZJww63W0YeGlVGuEceRWR1o3KwbA/viewform?usp=pp_url&entry.1958800652=z" redirect;
        # rewrite ^/varsity/?$      "https://oxfordassassins.co.uk" redirect;
        rewrite ^/core_rules/?$     "https://docs.google.com/document/d/1p3e2pYFLba3iXG_ofvb4n1aoyHpwNzqMD0Akvyu65g8/view" permanent;
        rewrite ^/rules/?$          "https://docs.google.com/document/d/1p3e2pYFLba3iXG_ofvb4n1aoyHpwNzqMD0Akvyu65g8/view" permanent;
        rewrite ^/archives/?$       "https://drive.google.com/drive/folders/0B4DFCRAg6jzuOWlRZTc4cENXQW8?resourcekey=0-Nc8H2Tdh1vtmaZSp1rxQSQ" permanent;
        rewrite ^/mailing_list/?$   "https://mail.oxfordassassins.co.uk/subscription/form" permanent;
        #rewrite ^/stash/?$          "https://docs.google.com/forms/d/e/1FAIpQLSfC1s4yQ92SHkdubqF-tXRioodK14mJrQQCi9XiztBOYDGKNA/viewform?usp=header" redirect;
        rewrite ^/report/?$         "https://docs.google.com/forms/d/e/1FAIpQLScxriLFXMH07QFNGo28x6j7q8ONsOEi0eRdV_gquOEZRKHYZA/viewform" redirect;
        rewrite ^/instagram/?$      "https://www.instagram.com/oxfordguildofassassins/" permanent;
        rewrite ^/location_rules/?$ "https://docs.google.com/spreadsheets/d/1Qt9Wps2Tgu9n-haj-3DwDu6qg2Yzkiq7QcJS8mno96k/edit?usp=sharing" permanent;
        rewrite ^/store/?$          "https://oga.sumupstore.com/" permanent;
        rewrite ^/game_rules/?$     "https://docs.google.com/document/d/1RFTFYaahEkI8cddz8GfDV7DmibLFnMsf11Vh5HFfIy0" redirect;
    }
}
