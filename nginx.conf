events {}

http {
    include /etc/nginx/mime.types;
    sendfile on;

    server {
        listen 80;
        default_type application/octet-stream;

        root /usr/share/nginx/html;

        location / {
            try_files $uri $uri/ /index.html;
        }

        # SHORT LINKS
        rewrite ^/discord/?$        "https://discord.gg/zYkVtTHD9a" redirect;
        rewrite ^/signup/?$         "https://docs.google.com/forms/d/e/1FAIpQLScIqlsNDSq2UjX9l3-Cf6CreFbiy8aSj9d6tTCsH6jkxYwsBg/viewform?usp=sharing&ouid=104040728207020391253" redirect;
        # rewrite ^/varsity/?$      "https://oxfordassassins.co.uk" redirect;
        rewrite ^/core_rules/?$     "https://docs.google.com/document/d/1p3e2pYFLba3iXG_ofvb4n1aoyHpwNzqMD0Akvyu65g8/view" permanent;
        rewrite ^/rules/?$          "https://docs.google.com/document/d/1p3e2pYFLba3iXG_ofvb4n1aoyHpwNzqMD0Akvyu65g8/view" permanent;
        rewrite ^/archives/?$       "https://drive.google.com/drive/folders/0B4DFCRAg6jzuOWlRZTc4cENXQW8?resourcekey=0-Nc8H2Tdh1vtmaZSp1rxQSQ" permanent;
        rewrite ^/mailing_list/?$   "https://mail.oxfordassassins.co.uk/subscription/form" permanent;
        rewrite ^/stash/?$          "https://docs.google.com/forms/d/e/1FAIpQLSfC1s4yQ92SHkdubqF-tXRioodK14mJrQQCi9XiztBOYDGKNA/viewform?usp=header" redirect;
        rewrite ^/report/?$         "https://docs.google.com/forms/d/e/1FAIpQLSdh9ZlW_8hPTwcAffxAvdtKUk8FF08T8VBhPbkjdCRy6i1p9g/viewform" redirect;
        rewrite ^/instagram/?$      "https://www.instagram.com/oxfordguildofassassins/" permanent;
        # rewrite ^/game_rules/?$     "https://docs.google.com/document/d/1vPhYkBpYfHLiY9cxcBcNeA-8l4S7tagaoq2YHg0wP4I/" redirect;
    }
}
